{"version":3,"sources":["header/markZ.jpg","driver/create-order-page/where/map-marker-icon.png","driver/create-order-page/black-map-marker.jpg","store/cars/ActionTypes.js","store/orders/ActionTypes.js","store/selected-car/ActionTypes.js","store/selected-car/Reducer.js","store/selected-order/ActionTypes.js","store/selected-order/Reducer.js","store/user-info/ActionTypes.js","store/user-info/Reducer.js","store/orders/Actions.js","store/cars/Actions.js","store/firebase/Actions.js","store/index.js","store/cars/Reducer.js","store/orders/Reducer.js","header/LeftDrawer.js","header/Header.js","theme-default.js","App.js","consts/GoogleApi.js","driver/create-order-page/where/MapBeacon.js","provider/pending-orders-page/OrderBeacon.js","driver/create-order-page/where/LocationMap.js","store/selected-order/Selectors.js","util/ObjectUpdater.js","store/orders/Selectors.js","store/selected-order/Actions.js","driver/create-order-page/CreateOrderButtonContainer.js","driver/create-order-page/when/OrderTimePickerContainer.js","driver/create-order-page/MainBox.js","driver/create-order-page/how-much/MaxPriceContainer.js","driver/create-order-page/how-much/MaxPrice.js","driver/create-order-page/which-car/CarNumber.js","driver/create-order-page/which-car/CarSelector.js","store/cars/Selectors.js","driver/create-order-page/which-car/CarSelectorContainer.js","driver/create-order-page/CreateOrderPage.js","driver/status-page/OrderStatusTable.js","driver/status-page/OrderStatusTableContainer.js","driver/status-page/SeeAllOrdersButton.js","driver/status-page/index.js","provider/pending-orders-page/PendingOrdersMapContainer.js","store/selected-car/Selectors.js","store/selected-car/Actions.js","provider/pending-orders-page/PendingOrdersTableContainer.js","provider/pending-orders-page/PendingOrdersTable.js","provider/pending-orders-page/index.js","driver/all-orders-page/AllOrdersTableContainer.js","driver/all-orders-page/AllOrdersTable.js","driver/all-orders-page/index.js","provider/order-handling-page/fuel-amount-filled/FuelAmountFilledContainer.js","provider/order-handling-page/fuel-amount-filled/FuelAmountFilled.js","provider/order-handling-page/OrderHandlingPage.js","util/CarController.js","provider/order-handling-page/OrderHandlingPageContainer.js","index.js","Routes.js"],"names":["module","exports","__webpack_require__","p","RECEIVE_CARS","RECEIVE_ORDERS","SELECT_CAR","UPDATE_SELECTED_CAR","CLEAR_SELECTED_CAR","initialState","SELECT_ORDER","UPDATE_SELECTED_ORDER","CLEAR_SELECTED_ORDER","isFullTank","lastFuelTime","tomorrow","Date","setDate","getDate","setHours","toJSON","substr","getTomorrow","maxPrice","carNumber","name","receiveOrders","orders","type","actionTypes","payload","receiveCars","cars","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","fetchData","collectionName","actionCallback","dispatch","firebase","database","ref","on","snapshot","val","error","console","code","sendDataToDatabase","collectionPath","value","set","combinedReducers","combineReducers","state","arguments","length","undefined","action","selectedCar","selectedOrder","userInfo","Object","assign","store","createStore","composeWithDevTools","applyMiddleware","thunkMiddleware","_signInRequest","asyncToGenerator","regenerator_default","a","mark","_callee","wrap","_context","prev","next","initializeApp","stop","this","_x","apply","styles","list","width","withRouter","props","react_default","createElement","Drawer_default","open","onClose","anchor","tabIndex","role","onClick","style","List_default","ListItem_default","button","history","push","ListItemIcon_default","Home_default","ListItemText_default","primary","Info_default","root","flexGrow","marginBottom","title","textAlign","menuButton","marginLeft","marginRight","Header","drawerOpen","changeDrawer","_this","setState","AppBar_default","position","Toolbar_default","IconButton_default","color","aria-label","Menu_default","Typography_default","variant","Avatar_default","alt","src","MarkZ","margin","header_LeftDrawer","React","Component","theme","createMuiTheme","direction","palette","light","main","primaryColor","dark","contrastText","secondary","Blue","App","core_styles","Header_Header","children","GoogleApi","mapBeacon","BeaconImage","height","OrderBeacon","LocationMap","isGeolocationAvailable","isGeolocationEnabled","coords","display","justifyContent","border","lib_default","bootstrapURLKeys","key","googleApi","defaultCenter","lat","latitude","lng","longitude","defaultZoom","_","map","order","id","getSelectedOrder","updateValue","oldObject","defineProperty","getOrders","getPendingOrders","filter","finishTime","getOrderById","orderId","getNextOrderId","keys","chain","parseInt","max","selectOrder","getState","updateSelectedOrder","sendSelectedOrderToDatabase","_sendSelectedOrganizationToDatabase","hasOwnProperty","abrupt","_x2","connect","ownProps","_onClick","toLocaleString","sent","stateProps","dispatchProps","Button","InputProps","disableUnderline","fontSize","onChange","event","target","TextField","MainBox","box","padding","backgroundColor","borderRadius","Grey","content","Paper_default","stotrFullTank","dollarSign","InputAdornment_default","Fragment","FormControlLabel_default","label","labelPlacement","control","Switch_default","checked","FormControl_default","InputLabel_default","Input_default","startAdornment","CarNumber","number","paddingRight","paddingLeft","fontWeight","toString","beutifyCarNumber","CarSelector","dialogOpen","_this2","toggleDialog","Dialog_default","car","selectCar","getCars","getCarById","catNumber","geolocated","positionOptions","enableHighAccuracy","userDecisionTimeout","geolocationProvider","navigator","geolocation","OrderTimePickerContainer","MaxPriceContainer","CarSelectorContainer","CreateOrderButtonContainer","getRow","TableRow_default","TableCell_default","createdTime","onTheWayTime","arrivalTime","fuelAmountFilled","Table_default","TableHead_default","TableBody_default","Button_default","marginTop","margiBnottom","StatusPage","_ref","match","params","OrderStatusTableContainer","status_page_SeeAllOrdersButton","objectSpread","getSelectedCar","rows","distance","lat1","lon1","lat2","lon2","dLat","toRad","dLon","Math","sin","cos","c","atan2","sqrt","d","ceil","calcCrow","distanceString","sorter","driverPhone","orderBy","x","row","mapRow","Value","PI","PendingOrdersMapContainer","PendingOrdersTableContainer","status","toLocaleDateString","AllOrdersPage","AllOrdersTableContainer","_onChange","carDetailsBox","paddingTop","orderDetailsBox","lineHeight","OrderHandlingPage","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","autoBind","assertThisInitialized","image","verticalAlign","fuelType","onOpenLid","FuelAmountFilledContainer","onCompletedOrder","apiUrl","ActiveCar","isOpen","performPost","arg","url","response","fetch","method","headers","Content-Type","credentials","body","JSON","stringify","ok","Boolean","return_value","_onOpenLid","CarController","_onCompletedOrder","_callee2","_context2","ReactDOM","render","es","HashRouter","App_App","Route","exact","path","component","CreateOrderPageContainer","PendingOrdersPage","OrderHandlingPageContainer","document","getElementById"],"mappings":"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","file":"static/js/main.b5b37bc4.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/markZ.69df1d4e.jpg\";","module.exports = __webpack_public_path__ + \"static/media/map-marker-icon.98930f0b.png\";","module.exports = __webpack_public_path__ + \"static/media/black-map-marker.6324da18.jpg\";","export const RECEIVE_CARS = \"RECEIVE_CARS\";\r\n","export const RECEIVE_ORDERS = \"RECEIVE_ORDERS\";\r\n","export const SELECT_CAR = \"SELECT_CAR\";\r\nexport const UPDATE_SELECTED_CAR = \"UPDATE_SELECTED_CAR\";\r\nexport const CLEAR_SELECTED_CAR = \"CLEAR_SELECTED_CAR\";","import * as actionTypes from './ActionTypes';\r\n\r\nconst initialState = {};\r\n\r\nexport default (state = initialState, action = {}) => {\r\n    switch (action.type) {\r\n        case actionTypes.SELECT_CAR:\r\n        case actionTypes.UPDATE_SELECTED_CAR:\r\n            return action.payload;\r\n\r\n        case actionTypes.CLEAR_SELECTED_CAR:\r\n            return initialState;\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n","export const SELECT_ORDER = \"SELECT_ORDER\";\r\nexport const UPDATE_SELECTED_ORDER = \"UPDATE_SELECTED_ORDER\";\r\nexport const CLEAR_SELECTED_ORDER = \"CLEAR_SELECTED_ORDER\";","import * as actionTypes from './ActionTypes';\r\n\r\nconst initialState = {\r\n    isFullTank: true,\r\n    lastFuelTime: getTomorrow(),\r\n    maxPrice: 50,\r\n    carNumber: \"1234567\"\r\n};\r\n\r\nexport default (state = initialState, action = {}) => {\r\n    switch (action.type) {\r\n        case actionTypes.SELECT_ORDER:\r\n        case actionTypes.UPDATE_SELECTED_ORDER:\r\n            return action.payload;\r\n\r\n        case actionTypes.CLEAR_SELECTED_ORDER:\r\n            return initialState;\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nfunction getTomorrow() {\r\n    const tomorrow = new Date();\r\n    tomorrow.setDate(tomorrow.getDate() + 1);\r\n    tomorrow.setHours(10, 0, 0, 0);\r\n    return tomorrow.toJSON().substr(0, 16)\r\n}\r\n\r\n","export const UPDATE_NAME = \"UPDATE_NAME\";","import {UPDATE_NAME} from \"./ActionTypes\";\r\n\r\nconst initialState = {\r\n    name: \"Mark Z.\",\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case UPDATE_NAME:\r\n            return Object.assign({}, {\r\n                name: action.payload\r\n            });\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport function getName(state) {\r\n    return state.userInfo.name;\r\n}","import * as actionTypes from './ActionTypes';\r\n\r\nexport function receiveOrders(orders) {\r\n    return {\r\n        type: actionTypes.RECEIVE_ORDERS,\r\n        payload: orders,\r\n    };\r\n}\r\n\r\n","import * as actionTypes from './ActionTypes';\r\n\r\nexport function receiveCars(cars) {\r\n    return {\r\n        type: actionTypes.RECEIVE_CARS,\r\n        payload: cars,\r\n    };\r\n}\r\n\r\n","import firebase from 'firebase/app'\r\nimport 'firebase/app'\r\nimport 'firebase/auth'\r\nimport 'firebase/firestore'\r\nimport 'firebase/database'\r\nimport {receiveOrders} from '../orders/Actions';\r\nimport {receiveCars} from '../cars/Actions';\r\n\r\nconst firebaseConfig = {\r\n    apiKey: 'AIzaSyAOdZqv8g93gmXHSBD3g1O3RWvUQnxqaKk',\r\n    authDomain: 'full-tank-app.firebaseapp.com',\r\n    databaseURL: 'https://full-tank-app.firebaseio.com',\r\n    projectId: 'full-tank-app',\r\n    storageBucket: 'full-tank-app.appspot.com',\r\n    messagingSenderId: '705307117598'\r\n};\r\n\r\nexport function initFirebase() {\r\n    return async function signInRequest(dispatch) {\r\n\r\n        await firebase.initializeApp(firebaseConfig);\r\n        await dispatch(fetchData('cars', receiveCars));\r\n        await dispatch(fetchData('orders', receiveOrders));\r\n    }\r\n}\r\n\r\nexport function fetchData(collectionName, actionCallback) {\r\n    return function afterSignedIn(dispatch) {\r\n        firebase.database().ref(collectionName).on('value', snapshot => {\r\n                dispatch(actionCallback(snapshot.val()));\r\n            },\r\n            error => {\r\n                console.error('The request for ' + collectionName + ' failed: ' + error.code);\r\n            });\r\n    }\r\n}\r\n\r\nexport function sendDataToDatabase(collectionPath, value) {\r\n    return firebase.database().ref(collectionPath).set(value);\r\n}\r\n\r\n\r\nexport function pushDataToDatabase(collectionPath, value) {\r\n    return firebase.database().ref(collectionPath).push(value);\r\n}\r\n","import {applyMiddleware, combineReducers, createStore} from 'redux';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport {composeWithDevTools} from 'redux-devtools-extension';\r\nimport carsReducer from './cars/Reducer';\r\nimport ordersReducer from './orders/Reducer';\r\nimport selectedCarReducer from './selected-car/Reducer';\r\nimport selectedOrderReducer from './selected-order/Reducer';\r\nimport userInfoReducer from './user-info/Reducer';\r\nimport {initFirebase} from './firebase/Actions';\r\n\r\nconst combinedReducers = combineReducers({\r\n    cars: carsReducer,\r\n    orders: ordersReducer,\r\n    selectedCar: selectedCarReducer,\r\n    selectedOrder: selectedOrderReducer,\r\n    userInfo: userInfoReducer,\r\n});\r\n\r\nconst store = createStore(\r\n    combinedReducers,\r\n    composeWithDevTools(\r\n        applyMiddleware(\r\n            thunkMiddleware\r\n        )\r\n    )\r\n);\r\n\r\nstore.dispatch(initFirebase());\r\n\r\nexport default store;","import * as actionTypes from './ActionTypes';\r\n\r\nexport default (state = {}, action = {}) => {\r\n    switch (action.type) {\r\n        case actionTypes.RECEIVE_CARS:\r\n            return action.payload;\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n","import * as actionTypes from './ActionTypes';\r\n\r\nexport default (state = {}, action = {}) => {\r\n    switch (action.type) {\r\n        case actionTypes.RECEIVE_ORDERS:\r\n            return action.payload;\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport {withRouter} from \"react-router-dom\";\r\n\r\nconst styles = {\r\n    list: {\r\n        width: 250,\r\n    }\r\n};\r\n\r\nfunction LeftDrawer(props) {\r\n    return (\r\n        <Drawer open={props.open} onClose={props.onClose} anchor=\"right\">\r\n            <div\r\n                tabIndex={0}\r\n                role=\"button\"\r\n                onClick={props.onClose}\r\n            >\r\n                <div style={styles.list}>\r\n                    <List>\r\n                        <ListItem button onClick={() => props.history.push(\"/\")}>\r\n                            <ListItemIcon>\r\n                                <HomeIcon/>\r\n                            </ListItemIcon>\r\n                            <ListItemText primary=\"Homepage\"/>\r\n                        </ListItem>\r\n                        <ListItem button onClick={() => props.history.push(\"/about\")}>\r\n                            <ListItemIcon>\r\n                                <InfoIcon/>\r\n                            </ListItemIcon>\r\n                            <ListItemText primary=\"About\"/>\r\n                        </ListItem>\r\n                    </List>\r\n                </div>\r\n            </div>\r\n        </Drawer>\r\n    )\r\n}\r\n\r\nLeftDrawer.propTypes = {\r\n    history: PropTypes.object.isRequired,\r\n    open: PropTypes.bool.isRequired,\r\n    onClose: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default withRouter(LeftDrawer);","import React from 'react';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport LeftDrawer from './LeftDrawer';\r\nimport MarkZ from './markZ.jpg'\r\nimport Avatar from '@material-ui/core/Avatar';\r\n\r\nconst styles = {\r\n    root: {\r\n        flexGrow: 1,\r\n        marginBottom: 20,\r\n    },\r\n    title: {\r\n        textAlign: 'left',\r\n        flexGrow: 1,\r\n    },\r\n    menuButton: {\r\n        marginLeft: -12,\r\n        marginRight: 20,\r\n    },\r\n};\r\n\r\nexport default class Header extends React.Component {\r\n    state = {\r\n        drawerOpen: false,\r\n    };\r\n\r\n    changeDrawer = (open) => () => {\r\n        this.setState({\r\n            drawerOpen: open,\r\n        })\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div style={styles.root}>\r\n                <AppBar position=\"static\">\r\n                    <Toolbar>\r\n                        <IconButton\r\n                            style={styles.menuButton}\r\n                            onClick={this.changeDrawer(true)}\r\n                            color=\"inherit\"\r\n                            aria-label=\"Menu\"\r\n                        >\r\n                            <MenuIcon/>\r\n                        </IconButton>\r\n                        <Typography variant=\"title\" color=\"inherit\" style={styles.title}>\r\n                            Full Tank\r\n                        </Typography>\r\n                        <Avatar alt=\"Mark\" src={MarkZ} style={{margin: 10}}/>\r\n                    </Toolbar>\r\n                </AppBar>\r\n\r\n                <LeftDrawer\r\n                    open={this.state.drawerOpen}\r\n                    onClose={this.changeDrawer(false)}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import primaryColor from '@material-ui/core/colors/orange';\r\nimport Blue from '@material-ui/core/colors/blue';\r\nimport {createMuiTheme} from '@material-ui/core/styles';\r\n\r\nexport const theme = createMuiTheme({\r\n    direction: 'rtl',\r\n    palette: {\r\n        primary: {\r\n            light: '#757ce8',\r\n            main: primaryColor[500],\r\n            dark: '#002884',\r\n            contrastText: '#ffffff',\r\n        },\r\n\r\n        secondary: {\r\n            light: '#757ce8',\r\n            main: Blue[700],\r\n            dark: '#002884',\r\n            contrastText: '#ffffff',\r\n        },\r\n    },\r\n});\r\n","import React, {Component} from 'react';\r\nimport Header from './header/Header';\r\nimport PropTypes from 'prop-types';\r\nimport {MuiThemeProvider} from '@material-ui/core/styles';\r\nimport {theme} from './theme-default';\r\n\r\nexport default class App extends Component {\r\n    render() {\r\n        return (\r\n            <div style={{textAlign: 'center'}}>\r\n                <MuiThemeProvider theme={theme}>\r\n                    <Header/>\r\n\r\n                    {this.props.children}\r\n                </MuiThemeProvider>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nApp.propTypes = {\r\n    children: PropTypes.any,\r\n};\r\n","export default {\r\n    apiKey: \"AIzaSyB6hPRN538oN70ahQ6Jk4XNxKtb4zI_6Jk\"\r\n};","import React from 'react';\r\nimport BeaconImage from './map-marker-icon.png';\r\n\r\nexport default function mapBeacon() {\r\n    return (\r\n        <img src={BeaconImage}\r\n             style={{\r\n                 height: 35,\r\n             }}\r\n             alt=\"\"\r\n        />\r\n    )\r\n}","import React from 'react';\r\nimport BeaconImage from '../../driver/create-order-page/black-map-marker.jpg';\r\n\r\nexport default function OrderBeacon() {\r\n    return (\r\n        <img src={BeaconImage}\r\n             style={{\r\n                 height: 35,\r\n             }}\r\n             alt=\"\"\r\n        />\r\n    )\r\n}","import React from 'react';\r\nimport GoogleMapReact from 'google-map-react';\r\nimport googleApi from '../../../consts/GoogleApi';\r\nimport MapBeacon from './MapBeacon';\r\nimport _ from 'lodash';\r\nimport OrderBeacon from '../../../provider/pending-orders-page/OrderBeacon';\r\n\r\nexport default function LocationMap(props) {\r\n    if (!props.isGeolocationAvailable) {\r\n        return <div>Your browser does not support Geolocation</div>\r\n    }\r\n\r\n    if (!props.isGeolocationEnabled) {\r\n        return <div>Geolocation is not enabled</div>\r\n    }\r\n\r\n    if (!props.coords) {\r\n        return <div>Searching for location</div>\r\n    }\r\n\r\n    const style = {\r\n        height: '300px',\r\n        width: 'auto',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        border: \"1px solid black\",\r\n        };\r\n\r\n    function renderOrder(order) {\r\n        return (\r\n            <OrderBeacon\r\n                key={order.id}\r\n                lat={order.latitude}\r\n                lng={order.longitude}\r\n            />\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div style={style}>\r\n            <GoogleMapReact\r\n                bootstrapURLKeys={{key: googleApi.apiKey}}\r\n                defaultCenter={{lat: props.coords.latitude, lng: props.coords.longitude}}\r\n                defaultZoom={15}\r\n            >\r\n                    <MapBeacon\r\n                        lat={props.coords.latitude}\r\n                        lng={props.coords.longitude}\r\n                    />\r\n                    {_.map(props.orders, renderOrder)}\r\n\r\n            </GoogleMapReact>\r\n        </div>\r\n    )\r\n}","export function getSelectedOrder(state) {\r\n    return state.selectedOrder;\r\n}\r\n","export function updateValue(oldObject, key, value){\r\n    return Object.assign({}, oldObject, {\r\n        [key]: value\r\n    });\r\n}","import _ from 'lodash';\r\n\r\nexport function getOrders(state) {\r\n    return state.orders;\r\n}\r\n\r\nexport function getPendingOrders(state) {\r\n    const orders = _.map(getOrders(state));\r\n    return orders.filter(order => !order.finishTime);\r\n}\r\n\r\n\r\nexport function getOrderById(state, orderId) {\r\n    return getOrders(state)[orderId];\r\n}\r\n\r\nexport function getNextOrderId(state) {\r\n    const orders = getOrders(state);\r\n    const keys = _.keys(orders);\r\n    if (!orders || keys.length === 0)\r\n        return 5000;\r\n\r\n    return _.chain(orders).keys().map(_.parseInt).max() + 1;\r\n}","import {getSelectedOrder} from './Selectors';\r\nimport {updateValue} from '../../util/ObjectUpdater';\r\nimport {\r\n    CLEAR_SELECTED_ORDER,\r\n    SELECT_ORDER,\r\n    UPDATE_SELECTED_ORDER\r\n} from './ActionTypes';\r\nimport {sendDataToDatabase} from '../firebase/Actions';\r\nimport {getNextOrderId, getOrderById} from '../orders/Selectors';\r\n\r\nexport function selectOrder(orderId) {\r\n    return function selectCar(dispatch, getState) {\r\n        const order = getOrderById(getState(), orderId);\r\n        dispatch({\r\n            type: SELECT_ORDER,\r\n            payload: order\r\n        })\r\n    };\r\n}\r\n\r\nexport function updateSelectedOrder(key, value) {\r\n    return function updateSelectedOrganization(dispatch, getState) {\r\n        const selectedOrder = updateValue(getSelectedOrder(getState()), key, value);\r\n        dispatch({\r\n            type: UPDATE_SELECTED_ORDER,\r\n            payload: selectedOrder,\r\n        });\r\n    }\r\n}\r\n\r\nexport function sendSelectedOrderToDatabase() {\r\n    return async function sendSelectedOrganizationToDatabase(dispatch, getState) {\r\n        if (!getSelectedOrder(getState()).hasOwnProperty(\"id\")) {\r\n            await dispatch(updateSelectedOrder(\"id\", getNextOrderId(getState())));\r\n        }\r\n\r\n        const selectedOrder = getSelectedOrder(getState());\r\n\r\n         sendDataToDatabase('/orders/' + selectedOrder.id, selectedOrder);\r\n         return selectedOrder.id;\r\n    }\r\n}\r\n\r\nexport function clearSelectedOrder() {\r\n    return {\r\n        type: CLEAR_SELECTED_ORDER,\r\n    }\r\n}\r\n","import Button from '@material-ui/core/Button'\r\nimport {connect} from 'react-redux';\r\nimport {sendSelectedOrderToDatabase, updateSelectedOrder} from '../../store/selected-order/Actions';\r\nimport {withRouter} from 'react-router-dom';\r\n\r\nfunction mapStateToProps() {\r\n    return {}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch, ownProps) {\r\n    return {\r\n        onClick: async () => {\r\n            if (!ownProps.coords) {\r\n                console.error('No location available');\r\n                return;\r\n            }\r\n\r\n            await dispatch(updateSelectedOrder('latitude', ownProps.coords.latitude));\r\n            await dispatch(updateSelectedOrder('longitude', ownProps.coords.longitude));\r\n            await dispatch(updateSelectedOrder('createdTime', new Date().toLocaleString()));\r\n            await dispatch(updateSelectedOrder('status', \"pending\"));\r\n            const orderId = await dispatch(sendSelectedOrderToDatabase());\r\n\r\n            ownProps.history.push('/order-status/' + orderId)\r\n        }\r\n    }\r\n}\r\n\r\nfunction mergeProps(stateProps, dispatchProps) {\r\n    return {\r\n        variant: 'contained',\r\n        color: 'primary',\r\n        children: 'Fill her up!',\r\n        style: {\r\n            width: '95%',\r\n            marginBottom: 20,\r\n        },\r\n\r\n        onClick: dispatchProps.onClick\r\n    }\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps, mergeProps)(Button));\r\n","import TextField from '@material-ui/core/TextField'\r\nimport {connect} from 'react-redux';\r\nimport {updateSelectedOrder} from '../../../store/selected-order/Actions';\r\nimport {getSelectedOrder} from '../../../store/selected-order/Selectors';\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        type: 'datetime-local',\r\n        value: getSelectedOrder(state).lastFuelTime,\r\n        InputProps: {\r\n            disableUnderline: true,\r\n            style: {\r\n                fontSize: 30,\r\n            },\r\n        },\r\n        style:{\r\n            width: 367\r\n        }\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        onChange: event => dispatch(updateSelectedOrder('lastFuelTime', event.target.value))\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TextField)\r\n","import React from 'react';\r\nimport Grey from '@material-ui/core/colors/grey';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nexport default function MainBox(props) {\r\n    const styles = {\r\n        box: {\r\n            // boxShadow: \"1px 1px\",\r\n            padding: 10,\r\n            backgroundColor: \"white\",\r\n            borderRadius: 9,\r\n            margin: \"10px 10px 20px 10px\",\r\n        },\r\n        title: {\r\n            fontSize: 20,\r\n            textAlign: 'left',\r\n            color: Grey[700],\r\n        },\r\n        content:{\r\n            margin:10,\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Paper style={styles.box}>\r\n            <div style={styles.title}>{props.title}</div>\r\n            <div style={styles.content}>\r\n            {props.children}\r\n            </div>\r\n        </Paper>\r\n    )\r\n}","import {connect} from 'react-redux';\r\nimport {updateSelectedOrder} from '../../../store/selected-order/Actions';\r\nimport {getSelectedOrder} from '../../../store/selected-order/Selectors';\r\nimport MaxPrice from './MaxPrice';\r\n\r\nfunction mapStateToProps(state) {\r\n    const stotrFullTank = getSelectedOrder(state).isFullTank\r\n\r\n    return {\r\n        isFullTank: stotrFullTank || stotrFullTank === undefined,\r\n        value: getSelectedOrder(state).maxPrice ? getSelectedOrder(state).maxPrice : '',\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        onChange: (key, value) => dispatch(updateSelectedOrder(key, value))\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MaxPrice)\r\n","import React from 'react';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\n\r\nexport default function MaxPrice(props) {\r\n\r\n\r\n    const style = {\r\n        fontSize: 30,\r\n        // textAlign: 'center'\r\n\r\n    };\r\n\r\n    const dollarSign = <InputAdornment\r\n        position=\"start\"\r\n    >\r\n        <span style={style}>$</span>\r\n    </InputAdornment>;\r\n\r\n    return (\r\n        <React.Fragment>\r\n\r\n\r\n            <FormControlLabel\r\n                label={<span style={style}>Full Tank</span>}\r\n                labelPlacement=\"start\"\r\n                control={\r\n                    <Switch\r\n                        color=\"secondary\"\r\n                        checked={props.isFullTank}\r\n                        onChange={(event) => props.onChange('isFullTank', event.target.checked)}\r\n                        value=\"checkedA\"\r\n                    />\r\n                }\r\n            />\r\n\r\n            {!props.isFullTank &&\r\n            <FormControl>\r\n                <InputLabel>Amount</InputLabel>\r\n                <Input\r\n                    id=\"adornment-amount\"\r\n                    value={props.value}\r\n                    onChange={event => props.onChange('maxPrice', event.target.value)}\r\n                    startAdornment={dollarSign}\r\n\r\n                    disableUnderline={true}\r\n                    style={style}\r\n                />\r\n            </FormControl>\r\n            }\r\n        </React.Fragment>\r\n    )\r\n}","import React from 'react';\r\n\r\nexport default function CarNumber(props) {\r\n    if(!props.carNumber)\r\n        return null;\r\n\r\n    const style = {\r\n        number: {\r\n            backgroundColor: 'rgb(255, 204, 0)',\r\n            paddingRight: 7,\r\n            paddingLeft: 7,\r\n            border: '1px solid black',\r\n            borderRadius: 5,\r\n            fontWeight: 'bold',\r\n            width: 150,\r\n        },\r\n        box: {\r\n            fontSize: 30,\r\n            textAlign: \"center\",\r\n        }\r\n    };\r\n\r\n    const number = props.carNumber.toString();\r\n\r\n    return (\r\n        <div style={style.box} onClick={props.onClick}>\r\n            <div style={style.number}>\r\n                {beutifyCarNumber(number)}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport function beutifyCarNumber(number){\r\n    return number.substr(0,2) + \"-\" + number.substr(2,3) + \"-\" + number.substr(5);\r\n}","import React from 'react';\r\nimport CarNumber from './CarNumber';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport _ from 'lodash';\r\n\r\nexport default class CarSelector extends React.Component {\r\n    state = {\r\n        dialogOpen: false,\r\n    };\r\n\r\n    toggleDialog(dialogOpen) {\r\n        this.setState({\r\n            dialogOpen,\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <div style={{width: '50%', margin: 'auto'}}>\r\n                    <CarNumber\r\n                        carNumber={this.props.carNumber}\r\n                        onClick={() => this.toggleDialog(true)}\r\n                    />\r\n                </div>\r\n\r\n                <Dialog\r\n                    open={this.state.dialogOpen}\r\n                    onClose={() => this.toggleDialog(false)}\r\n                >\r\n                    <div style={{padding: 20}}>\r\n                        {_.map(this.props.cars, car => {\r\n                            return (\r\n                                <div style={{padding: 5}} key={car.number}>\r\n                                    <CarNumber\r\n                                        key={car.number}\r\n                                        carNumber={car.number}\r\n                                        onClick={() => {\r\n                                            this.props.selectCar(car.number);\r\n                                            this.toggleDialog(false);\r\n                                        }}\r\n                                    />\r\n                                </div>\r\n                            )\r\n                        })}\r\n                    </div>\r\n\r\n                </Dialog>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}","export function getCars(state) {\r\n    return state.cars;\r\n}\r\n\r\nexport function getCarById(state, carNumber){\r\n    return getCars(state)[carNumber];\r\n}","import {getSelectedOrder} from '../../../store/selected-order/Selectors';\r\nimport {connect} from 'react-redux';\r\nimport CarSelector from './CarSelector';\r\nimport {getCars} from '../../../store/cars/Selectors';\r\nimport {updateSelectedOrder} from '../../../store/selected-order/Actions';\r\n\r\nfunction mapStateToProps(state){\r\n    return {\r\n        carNumber : getSelectedOrder(state).carNumber,\r\n        cars: getCars(state),\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch){\r\n    return {\r\n        selectCar: (catNumber) => dispatch(updateSelectedOrder(\"carNumber\", catNumber))\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CarSelector);","import React from 'react';\r\nimport LocationMap from './where/LocationMap';\r\nimport CreateOrderButtonContainer from './CreateOrderButtonContainer';\r\nimport {geolocated} from 'react-geolocated';\r\nimport OrderTimePickerContainer from './when/OrderTimePickerContainer';\r\nimport MainBox from './MainBox';\r\nimport MaxPriceContainer from './how-much/MaxPriceContainer';\r\nimport CarNumberContainer from './which-car/CarSelectorContainer';\r\n\r\nfunction CreateOrderPage(props) {\r\n    return (\r\n        <div>\r\n\r\n            <MainBox title=\"When?\">\r\n                <OrderTimePickerContainer/>\r\n            </MainBox>\r\n\r\n            <MainBox title=\"How Much?\">\r\n                <MaxPriceContainer/>\r\n            </MainBox>\r\n\r\n            <MainBox title=\"Which Car?\">\r\n                <CarNumberContainer/>\r\n            </MainBox>\r\n\r\n            <MainBox title=\"Where?\">\r\n                <LocationMap {...props} />\r\n            </MainBox>\r\n\r\n            <CreateOrderButtonContainer {...props}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default geolocated({\r\n    positionOptions: {\r\n        enableHighAccuracy: false,\r\n    },\r\n    userDecisionTimeout: 5000,\r\n    geolocationProvider: navigator.geolocation\r\n})(CreateOrderPage);\r\n","import React from 'react';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nexport default function SimpleTable(props) {\r\n    return (\r\n        <Paper style={{margin:10}}>\r\n            <Table>\r\n                <TableHead>\r\n                    <TableRow>\r\n                        <TableCell>Status</TableCell>\r\n                        <TableCell>Time</TableCell>\r\n                    </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                    {getRow(\"Created order\", props.createdTime)}\r\n                    {getRow(\"We are on the way\", props.onTheWayTime)}\r\n                    {getRow(\"We are here\", props.arrivalTime)}\r\n                    {getRow(\"Gas filled\", props.fuelAmountFilled)}\r\n                    {getRow(\"Done!\", props.finishTime)}\r\n                </TableBody>\r\n            </Table>\r\n        </Paper>\r\n    );\r\n}\r\n\r\nfunction getRow(title, value) {\r\n    if (!value)\r\n        return null;\r\n\r\n    return (\r\n        <TableRow>\r\n            <TableCell>{title}</TableCell>\r\n            <TableCell>{value}</TableCell>\r\n        </TableRow>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {getOrderById} from '../../store/orders/Selectors';\r\nimport OrderStatusTable from './OrderStatusTable';\r\n\r\nfunction mapStateToProps(state, ownProps) {\r\n    if (!getOrderById(state, ownProps.orderId))\r\n        return <div> Loading</div>;\r\n\r\n    return {\r\n        createdTime: getOrderById(state, ownProps.orderId).createdTime,\r\n        onTheWayTime: getOrderById(state, ownProps.orderId).onTheWayTime,\r\n        arrivalTime: getOrderById(state, ownProps.orderId).arrivalTime,\r\n        finishTime: getOrderById(state, ownProps.orderId).finishTime,\r\n        fuelAmountFilled: getOrderById(state, ownProps.orderId).fuelAmountFilled ? getOrderById(state, ownProps.orderId).fuelAmountFilled + \" Liters\" : null,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(OrderStatusTable)\r\n","import Button from '@material-ui/core/Button'\r\nimport {withRouter} from 'react-router-dom';\r\nimport React from 'react';\r\n\r\nfunction SeeAllOrdersButton(props) {\r\n    return (\r\n        <Button\r\n            variant='contained'\r\n            color='primary'\r\n            children='See all orders'\r\n            style={{\r\n                width: '95%',\r\n                marginTop: 30,\r\n                margiBnottom: 20,\r\n            }}\r\n            onClick={() => props.history.push('/all-orders')}\r\n        />\r\n    );\r\n}\r\n\r\nexport default withRouter(SeeAllOrdersButton);","import React from 'react';\r\nimport OrderStatusTableContainer from './OrderStatusTableContainer';\r\nimport SeeAllOrdersButton from './SeeAllOrdersButton';\r\n\r\nexport default function StatusPage({match}){\r\n    return (\r\n        <div>\r\n            <div style={{fontSize:30}}>\r\n                Order Status - {match.params.orderId}\r\n            </div>\r\n\r\n            <OrderStatusTableContainer orderId={match.params.orderId} />\r\n\r\n            <SeeAllOrdersButton/>\r\n        </div>\r\n    )\r\n}","import {connect} from 'react-redux';\r\nimport {getPendingOrders} from '../../store/orders/Selectors';\r\nimport LocationMap from '../../driver/create-order-page/where/LocationMap';\r\n\r\nfunction mapStateToProps(state, ownProps) {\r\n    return {\r\n        orders: getPendingOrders(state),\r\n        ...ownProps\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(LocationMap);\r\n","export function getSelectedCar(state) {\r\n    return state.selectedCar;\r\n}\r\n","import {getSelectedCar} from './Selectors';\r\nimport {updateValue} from '../../util/ObjectUpdater';\r\nimport {\r\n    CLEAR_SELECTED_CAR,\r\n    SELECT_CAR,\r\n    UPDATE_SELECTED_CAR\r\n} from './ActionTypes';\r\nimport {sendDataToDatabase} from '../firebase/Actions';\r\nimport {getCarById} from '../cars/Selectors';\r\n\r\nexport function selectCar(carNumber) {\r\n    return function selectCar(dispatch, getState) {\r\n        const car = getCarById(getState(), carNumber);\r\n        dispatch({\r\n            type: SELECT_CAR,\r\n            payload: car\r\n        })\r\n    };\r\n}\r\n\r\nexport function updateSelectedCar(key, value) {\r\n    return function updateSelectedOrganization(dispatch, getState) {\r\n        const selectedOrganization = updateValue(getSelectedCar(getState()), key, value);\r\n        dispatch({\r\n            type: UPDATE_SELECTED_CAR,\r\n            payload: selectedOrganization,\r\n        });\r\n    }\r\n}\r\n\r\nexport function sendSelectedCarToDatabase() {\r\n    return async function sendSelectedOrganizationToDatabase(dispatch, getState) {\r\n        const selectedCar = getSelectedCar(getState());\r\n\r\n        return sendDataToDatabase('/cars/' + selectedCar.id, selectedCar);\r\n    }\r\n}\r\n\r\nexport function clearSelectedCar() {\r\n    return {\r\n        type: CLEAR_SELECTED_CAR,\r\n    }\r\n}\r\n","import {getPendingOrders} from '../../store/orders/Selectors';\r\nimport _ from 'lodash';\r\nimport {selectOrder, sendSelectedOrderToDatabase, updateSelectedOrder} from '../../store/selected-order/Actions';\r\nimport PendingOrdersTable from './PendingOrdersTable';\r\nimport {connect} from 'react-redux';\r\nimport {withRouter} from 'react-router-dom';\r\nimport {getCarById} from '../../store/cars/Selectors';\r\nimport {selectCar} from '../../store/selected-car/Actions';\r\n\r\nfunction mapStateToProps(state, ownProps) {\r\n    if (!ownProps.coords)\r\n        return {};\r\n\r\n    const orders = getPendingOrders(state);\r\n    const rows = _.map(orders, order => {\r\n        const distance = calcCrow(ownProps.coords.latitude, ownProps.coords.longitude, order.latitude, order.longitude);\r\n        const distanceString = distance.toString().substr(0, 6) + ' KM';\r\n        return {\r\n            id: order.id,\r\n            createdTime: order.createdTime,\r\n            distance: distanceString,\r\n            sorter: distance,\r\n            carNumber: order.carNumber,\r\n            driverPhone: getCarById(state, order.carNumber).driverPhone,\r\n        };\r\n    });\r\n\r\n\r\n    return {\r\n        rows: _.orderBy(rows, x => x.sorter)\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch, ownProps) {\r\n    return {\r\n        onClick: async (orderId, carNumber) => {\r\n            dispatch(selectOrder(orderId));\r\n            dispatch(selectCar(carNumber));\r\n            ownProps.history.push('/order-handling');\r\n\r\n            await dispatch(updateSelectedOrder('onTheWayTime', new Date().toLocaleString()));\r\n            dispatch(sendSelectedOrderToDatabase());\r\n        }\r\n    }\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(PendingOrdersTable));\r\n\r\n\r\n//This function takes in latitude and longitude of two location and returns the distance between them as the crow flies (in km)\r\nfunction calcCrow(lat1, lon1, lat2, lon2) {\r\n    const R = 6371; // km\r\n    const dLat = toRad(lat2 - lat1);\r\n    const dLon = toRad(lon2 - lon1);\r\n    lat1 = toRad(lat1);\r\n    lat2 = toRad(lat2);\r\n\r\n    const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) +\r\n        Math.sin(dLon / 2) * Math.sin(dLon / 2) * Math.cos(lat1) * Math.cos(lat2);\r\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n    const d = R * c;\r\n    return Math.ceil(d * 100) / 100;\r\n}\r\n\r\n// Converts numeric degrees to radians\r\nfunction toRad(Value) {\r\n    return Value * Math.PI / 180;\r\n}","import React from 'react';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport _ from 'lodash';\r\nimport CarNumber from '../../driver/create-order-page/which-car/CarNumber';\r\n\r\nexport default function SimpleTable(props) {\r\n    return (\r\n        <Paper style={{margin:10}}>\r\n            <Table>\r\n                <TableHead>\r\n                    <TableRow>\r\n                        <TableCell>Id</TableCell>\r\n                        <TableCell>Created Time</TableCell>\r\n                        <TableCell>Distance</TableCell>\r\n                        <TableCell>Car Number</TableCell>\r\n                        <TableCell>Driver Phone</TableCell>\r\n                    </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                    {_.map(props.rows, row => mapRow(row, props.onClick))}\r\n                </TableBody>\r\n            </Table>\r\n        </Paper>\r\n    );\r\n}\r\n\r\nfunction mapRow(row, onClick) {\r\n    if (!row)\r\n        return null;\r\n\r\n    return (\r\n        <TableRow key={row.id} onClick={() => onClick(row.id, row.carNumber)}>\r\n            <TableCell>{row.id}</TableCell>\r\n            <TableCell>{row.createdTime}</TableCell>\r\n            <TableCell>{row.distance}</TableCell>\r\n            <TableCell><CarNumber carNumber={row.carNumber}/></TableCell>\r\n            <TableCell>{row.driverPhone}</TableCell>\r\n        </TableRow>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport PendingOrdersMapContainer from './PendingOrdersMapContainer';\r\nimport PendingOrdersTableContainer from './PendingOrdersTableContainer';\r\nimport {geolocated} from 'react-geolocated';\r\n\r\nfunction PendingOrdersPage(props) {\r\n    return (\r\n        <div>\r\n            <div style={{fontSize: 30}}>\r\n                Pending Orders\r\n            </div>\r\n\r\n            <div style={{margin: 10}}>\r\n                <PendingOrdersMapContainer {...props}/>\r\n            </div>\r\n\r\n\r\n            <PendingOrdersTableContainer {...props}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default geolocated({\r\n    positionOptions: {\r\n        enableHighAccuracy: false,\r\n    },\r\n    userDecisionTimeout: 5000,\r\n    geolocationProvider: navigator.geolocation\r\n})(PendingOrdersPage);\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {getOrders} from '../../store/orders/Selectors';\r\nimport OrderStatusTable from './AllOrdersTable';\r\nimport {withRouter} from 'react-router-dom';\r\n\r\nfunction mapStateToProps(state, ownProps) {\r\n    if(!getOrders(state))\r\n        return <div> Loading</div>;\r\n\r\n    return {\r\n        orders: getOrders(state),\r\n        onClick:(orderId) => ownProps.history.push('/order-status/' + orderId)\r\n    }\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps)(OrderStatusTable));\r\n","import React from 'react';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport _ from 'lodash';\r\n\r\nexport default function SimpleTable(props) {\r\n    return (\r\n        <Paper style={{margin:10}}>\r\n            <Table>\r\n                <TableHead>\r\n                    <TableRow>\r\n                        <TableCell>Id</TableCell>\r\n                        <TableCell>Status</TableCell>\r\n                        <TableCell>Date</TableCell>\r\n                    </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                    {_.map(props.orders, order => getRow(order, props.onClick))}\r\n                </TableBody>\r\n            </Table>\r\n        </Paper>\r\n    );\r\n}\r\n\r\nfunction getRow(order, onClick) {\r\n    return (\r\n        <TableRow onClick={() => onClick(order.id)} key={order.id}>\r\n            <TableCell>{order.id}</TableCell>\r\n            <TableCell>{order.status}</TableCell>\r\n            <TableCell>{new Date(order.createdTime).toLocaleDateString()}</TableCell>\r\n        </TableRow>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport AllOrdersTableContainer from './AllOrdersTableContainer';\r\n\r\nexport default function AllOrdersPage(){\r\n    return (\r\n        <div>\r\n            <div style={{fontSize:30}}>\r\n                All Orders\r\n            </div>\r\n\r\n            <AllOrdersTableContainer/>\r\n        </div>\r\n    )\r\n}","import {connect} from 'react-redux';\r\nimport {sendSelectedOrderToDatabase, updateSelectedOrder} from '../../../store/selected-order/Actions';\r\nimport {getSelectedOrder} from '../../../store/selected-order/Selectors';\r\nimport FuelAmountFilled from './FuelAmountFilled';\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        value: getSelectedOrder(state).fuelAmountFilled ? getSelectedOrder(state).fuelAmountFilled : '',\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        onChange: async (key, value) => {\r\n            await dispatch(updateSelectedOrder(key, value));\r\n            dispatch(sendSelectedOrderToDatabase());\r\n        }\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FuelAmountFilled)\r\n","import React from 'react';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\n\r\nexport default function FuelAmountFilled(props) {\r\n    const style = {\r\n        fontSize: 30,\r\n    };\r\n\r\n    return (\r\n        <FormControl>\r\n            <InputLabel>Fuel Amount Filled (Liters)</InputLabel>\r\n            <Input\r\n                id=\"adornment-amount\"\r\n                value={props.value}\r\n                onChange={event => props.onChange('fuelAmountFilled', event.target.value)}\r\n\r\n                disableUnderline={true}\r\n                style={style}\r\n            />\r\n        </FormControl>\r\n    )\r\n}","import Button from '@material-ui/core/Button'\r\nimport React, { Component } from 'react';\r\nimport autoBind from 'react-autobind';\r\nimport MainBox from \"../../driver/create-order-page/MainBox\";\r\nimport FuelAmountFilledContainer from \"./fuel-amount-filled/FuelAmountFilledContainer\";\r\nimport CarNumber from \"../../driver/create-order-page/which-car/CarNumber\";\r\n\r\nconst styles = {\r\n    carDetailsBox: {\r\n        textAlign: 'left',\r\n        paddingTop: '10px',\r\n        fontSize: '18px',\r\n        display: 'flex',\r\n        justifyContent: 'space-around'\r\n    },\r\n    orderDetailsBox: {\r\n        textAlign: 'left',\r\n        paddingTop: '10px',\r\n        fontSize: '18px',\r\n        lineHeight: '32px'\r\n    }\r\n};\r\n\r\nexport default class OrderHandlingPage extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        autoBind(this);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <MainBox title={'Car Details'}>\r\n                    <div style={styles.carDetailsBox}>\r\n                        <div >\r\n                            <img src={this.props.selectedCar.image} style={{width: '100px', paddingRight: '15px'}} alt=\"driver's car\"/>\r\n                        </div>\r\n                        <div style={{verticalAlign: 'middle', lineHeight: '36px', paddingRight: '20px'}}>\r\n                            <div style={{display: 'flex'}}> Car Number: <div style={{paddingLeft: \"10px\"}}><CarNumber carNumber={this.props.selectedCar.number}/></div></div>\r\n                            <div>Fuel Type: <span style={{fontWeight: 'bold'}}>{this.props.selectedCar.fuelType}</span></div>\r\n                            <div>Driver Phone: <span style={{fontWeight: 'bold'}}>{this.props.selectedCar.driverPhone}</span></div>\r\n                        </div>\r\n                        <Button variant={'contained'} color={'secondary'} style={{height: '10px'}} children={\"Open Lid\"} onClick={this.props.onOpenLid} />\r\n                    </div>\r\n                </MainBox>\r\n\r\n                <MainBox title={'Order Details'}>\r\n                    <div style={styles.orderDetailsBox}>\r\n                        <div>Last Fuel Time: <span style={{fontWeight: 'bold'}}>{new Date(this.props.selectedOrder.lastFuelTime).toLocaleDateString()}</span></div>\r\n                        <div>Should Fill Full Tank: <span style={{fontWeight: 'bold'}}>{this.props.selectedOrder.isFullTank.toString()}</span></div>\r\n\r\n                        {!this.props.selectedOrder.maxPrice &&\r\n                            <div>MaxPrice: <span style={{fontWeight: 'bold'}}>{this.props.selectedOrder.maxPrice}</span></div>\r\n                        }\r\n\r\n                        <FuelAmountFilledContainer/>\r\n                    </div>\r\n                </MainBox>\r\n\r\n                <Button variant={'contained'} color={'primary'} children={\"Mark this order as Completed\"} style={{width: \"97%\", marginBottom: 20}} onClick={this.props.onCompletedOrder} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import fetch from 'isomorphic-fetch';\r\n\r\nconst apiUrl = 'https://api.particle.io/v1/devices/3e003e000647343138333038/led?access_token=d861c358bef1f4d5b63a90a43ae9af14abe15865';\r\n\r\nexport default function ActiveCar(isOpen) {\r\n\r\n    const payload = {\r\n        arg: isOpen ? \"on\" : 'off'\r\n    };\r\n\r\n    return performPost(apiUrl, payload);\r\n}\r\n\r\nasync function performPost(url, payload) {\r\n    const response = await fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n        },\r\n        credentials: 'same-origin',\r\n        body: JSON.stringify(payload)\r\n    });\r\n\r\n    if (response.ok) {\r\n        return Boolean(response.return_value);\r\n    }\r\n\r\n    //required so that the rejected callback will have access to the HTTP resp metadata, and not a JSON parse error which doesn't help anyone.\r\n    throw response;\r\n}","import {connect} from 'react-redux';\r\nimport OrderHandlingPage from './OrderHandlingPage';\r\nimport {getSelectedOrder, } from './../../store/selected-order/Selectors';\r\nimport {getSelectedCar} from './../../store/selected-car/Selectors';\r\nimport {sendSelectedOrderToDatabase, updateSelectedOrder} from \"../../store/selected-order/Actions\";\r\nimport CarController from './../../util/CarController'\r\nimport {withRouter} from 'react-router-dom';\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        selectedOrder: getSelectedOrder(state),\r\n        selectedCar: getSelectedCar(state)\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n    return {\r\n        onOpenLid: async () => {\r\n            CarController(true);\r\n            await dispatch(updateSelectedOrder('arrivalTime', new Date().toLocaleString()));\r\n            dispatch(sendSelectedOrderToDatabase());\r\n        },\r\n        onCompletedOrder: async () => {\r\n            CarController(false);\r\n            await dispatch(updateSelectedOrder('finishTime', new Date().toLocaleString()));\r\n            await dispatch(updateSelectedOrder('status', 'Done'));\r\n            dispatch(sendSelectedOrderToDatabase());\r\n            ownProps.history.push('/pending-orders');\r\n        }\r\n    };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(OrderHandlingPage));\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport {Provider} from 'react-redux';\r\nimport store from './store'\r\nimport Routes from './Routes';\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <Routes/>\r\n    </Provider>,\r\n    document.getElementById('root'));\r\n","import React from 'react';\r\nimport {HashRouter as Router, Route} from 'react-router-dom';\r\nimport App from './App';\r\nimport CreateOrderPageContainer from './driver/create-order-page/CreateOrderPage';\r\nimport StatusPage from './driver/status-page';\r\nimport PendingOrdersPage from './provider/pending-orders-page';\r\nimport AllOrdersPage from './driver/all-orders-page';\r\nimport OrderHandlingPageContainer from './provider/order-handling-page/OrderHandlingPageContainer';\r\n\r\nexport default function Routes() {\r\n    return (\r\n        <Router>\r\n            <App>\r\n                <Route exact path=\"/\" component={CreateOrderPageContainer}/>\r\n\r\n                {/*Driver*/}\r\n                <Route path={\"/driver\"} component={CreateOrderPageContainer}/>\r\n                <Route path={\"/new-order\"} component={CreateOrderPageContainer}/>\r\n                <Route path={\"/order-status/:orderId\"} component={StatusPage}/>\r\n                <Route path={\"/all-orders\"} component={AllOrdersPage}/>\r\n\r\n                {/*Service provider*/}\r\n                <Route path={\"/pending-orders\"} component={PendingOrdersPage}/>\r\n                <Route path={\"/order-handling\"} component={OrderHandlingPageContainer}/>\r\n            </App>\r\n        </Router>\r\n    );\r\n}\r\n"],"sourceRoot":""}